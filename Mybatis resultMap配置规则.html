<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<link rel="stylesheet" type="text/css" href="file:///${exe}/scripts/highlight.styles/${SyntaxHighlightStyleName}.css" />
		<style>
			body, table{font-family: 微软雅黑}
			
			table{border-collapse: collapse; border: 1px solid gray; border-width: 2px 1px 2px 1px;}
			th{border: 1px solid gray; padding: 4px; background-color: #ddd;}
			td{border: 1px solid gray; padding: 4px;}
			tr:nth-child(2n){background-color: #f8f8f8;}
			pre{border: 2px solid #d6d6d6; padding: 0px; border-radius: 3px;}
		</style>
	</head>
	<body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">
		<div>resultMap中一共有六种不同的节点
		</div>
		<div>
			<pre>
<code id="ID_162CC601BF7" class="no-highlight"><ol><li>&lt;resultMap&gt;</li><li>	&lt;constructor&gt;</li><li>		&lt;idArg/&gt;</li><li>		&lt;arg/&gt;</li><li>	&lt;/constructor&gt;</li><li>	&lt;id/&gt;</li><li>	&lt;result/&gt;</li><li>	&lt;association property=""/&gt;</li><li>	&lt;collection property=""/&gt;</li><li>	&lt;discriminator javaType=""&gt;</li><li>		&lt;case value=""&gt;&lt;/case&gt;</li><li>	&lt;/discriminator&gt;</li><li>&lt;/resultMap&gt;</li></ol></code></pre>
			<div><br />
			</div>
		</div>
		<div>Constructor
		</div>
		<div>constuctor主要是用来配置构造方法，默认情况下mybatis会调用实体类无参构造方法创建一个实体类，然后再给各个属性赋值。但是有的时候我们可能为实体类生成了有参的构造方法，并且也没有给该实体类生成无参的构造方法，这个实收如果不做特殊配置，resultMap在生成实体类的时候就会报错，因为它没有找到无参构造方法。这个时候mybatis会报如下错误：
		</div>
		<div>
			<pre>
<code id="ID_162CC63D7AB" class="no-highlight"><ol><li>Cause: org.apache.ibatis.executor.ExecutorException: No constructor found in com.java.mybatis.beans.Course matching [java.lang.Integer, java.lang.String, java.lang.String, java.lang.Integer, java.lang.Integer, java.lang.Integer, java.lang.String]</li></ol></code></pre>
			<div>那么解决方式很简单，就是在constructor节点中进行简单配置，假设User实体类的构造方法如下：
			</div>
		</div>
		<div>
			<pre>
<code id="ID_162CC65C88E" class="lang-java hljs"><ol><li><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">User</span><span class="hljs-params">(Long id, String userName, String password, String address)</span></span>{</li><li>  <span class="hljs-keyword">this</span>.id = id;</li><li>  <span class="hljs-keyword">this</span>.userName = userName;</li><li>  <span class="hljs-keyword">this</span>.password = password;</li><li>  <span class="hljs-keyword">this</span>.address = address;</li><li>}</li></ol></code></pre>
			<div>那么我们在resultMap中配置constructor节点信息如下：
			</div>
		</div>
		<div>
			<pre>
<code id="ID_162CC67FFBD" class="lang-xml hljs"><ol><li><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"userResultMap"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"com.test.bean.User"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">constructor</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">idArg</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"id"</span> <span class="hljs-attr">javaType</span>=<span class="hljs-string">"long"</span> /&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">arg</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"userName"</span> <span class="hljs-attr">javaType</span>=<span class="hljs-string">"String"</span> /&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">arg</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">javaType</span>=<span class="hljs-string">"String"</span> /&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">arg</span> <span class="hljs-attr">column</span>=<span class="hljs-string">"address"</span> <span class="hljs-attr">javaType</span>=<span class="hljs-string">"String"</span> /&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">constructor</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span></li></ol></code></pre>
			<div>在constructor中指定相应的参数，这样resultMap在构造实体类的时候就会按照这里的指定参数寻找相应的构造方法了。
			</div>
		</div>
		<div><br />
		</div>
	</body>
</html>
